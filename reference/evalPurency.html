<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Evaluate *.csv files, produced by Purency. It will count occurences of of fibres, fragments, spheres and pixels,
as well as size fractions (customisable) for each polymer. Each file (i.e., each measurement)
is evaluated separately, as well as summarized for all files (i.e., one sample)."><title>Automated evaluation of Purency data. — evalPurency • evalPurency</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Automated evaluation of Purency data. — evalPurency"><meta property="og:description" content="Evaluate *.csv files, produced by Purency. It will count occurences of of fibres, fragments, spheres and pixels,
as well as size fractions (customisable) for each polymer. Each file (i.e., each measurement)
is evaluated separately, as well as summarized for all files (i.e., one sample)."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">evalPurency</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.3.5.9017</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/evalPurency.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Maki-science/evalPurency/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Automated evaluation of Purency data.</h1>
      <small class="dont-index">Source: <a href="https://github.com/Maki-science/evalPurency/blob/HEAD/R/evalPurency.R" class="external-link"><code>R/evalPurency.R</code></a></small>
      <div class="d-none name"><code>evalPurency.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Evaluate *.csv files, produced by Purency. It will count occurences of of fibres, fragments, spheres and pixels,
as well as size fractions (customisable) for each polymer. Each file (i.e., each measurement)
is evaluated separately, as well as summarized for all files (i.e., one sample).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">evalPurency</span><span class="op">(</span></span>
<span>  <span class="va">path</span>,</span>
<span>  polymers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"PU"</span>, <span class="st">"EVAc"</span>, <span class="st">"PA"</span>, <span class="st">"PAN"</span>, <span class="st">"PBT"</span>, <span class="st">"PET"</span>, <span class="st">"PE"</span>, <span class="st">"PMMA"</span>, <span class="st">"PP"</span>, <span class="st">"POM"</span>, <span class="st">"PS"</span>,</span>
<span>    <span class="st">"PVC"</span>, <span class="st">"PC"</span>, <span class="st">"ABS"</span>, <span class="st">"PPSU"</span>, <span class="st">"CA"</span>, <span class="st">"PEEK"</span>, <span class="st">"EVOH"</span>, <span class="st">"PSU"</span>, <span class="st">"SILICONE"</span>, <span class="st">"PLA"</span>,</span>
<span>    <span class="st">"PLAPBAT"</span><span class="op">)</span>,</span>
<span>  sizeclasses <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">20</span>, <span class="fl">50</span>, <span class="fl">100</span>, <span class="fl">150</span>, <span class="fl">200</span>, <span class="fl">250</span>, <span class="fl">300</span>, <span class="fl">350</span>, <span class="fl">400</span>, <span class="fl">450</span>, <span class="fl">500</span><span class="op">)</span>,</span>
<span>  setDivFactor <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  dataReturn <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  eocsum <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  particleNumbers <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  labpreset <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  blankKey <span class="op">=</span> <span class="st">"Blank"</span>,</span>
<span>  noBlank <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  sep <span class="op">=</span> <span class="st">";"</span>,</span>
<span>  dec <span class="op">=</span> <span class="st">","</span>,</span>
<span>  colPol <span class="op">=</span> <span class="fl">6</span>,</span>
<span>  colL <span class="op">=</span> <span class="fl">17</span>,</span>
<span>  colReqPol <span class="op">=</span> <span class="fl">24</span>,</span>
<span>  ReqPolKey <span class="op">=</span> <span class="st">"ja"</span>,</span>
<span>  colShape <span class="op">=</span> <span class="fl">25</span>,</span>
<span>  colCol <span class="op">=</span> <span class="fl">26</span>,</span>
<span>  colLFib <span class="op">=</span> <span class="fl">27</span>,</span>
<span>  colArea <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  colWidth <span class="op">=</span> <span class="fl">18</span>,</span>
<span>  fibre <span class="op">=</span> <span class="st">"Faser"</span>,</span>
<span>  sphere <span class="op">=</span> <span class="st">"Kugel"</span>,</span>
<span>  fragment <span class="op">=</span> <span class="st">"Fragment"</span>,</span>
<span>  pixel <span class="op">=</span> <span class="st">"Pixel"</span>,</span>
<span>  test <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  startrow <span class="op">=</span> <span class="fl">40</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>path</dt>
<dd><p>The path where the files can be found. All csv files in this folder will be evaluated. Also saves the
resulting files in this directory.</p></dd>


<dt>polymers</dt>
<dd><p>A vector containing the abbreviations of polymers to be considered. Default vector contains 22
polymers.</p></dd>


<dt>sizeclasses</dt>
<dd><p>A vector containing desired sizeclasses to be evaluated. Default is c(10, 20, 50, 100, 150,
200, 250, 300, 350, 400, 450, 500) The function starts at 0 and then uses the set steps.
It always uses values up to the provided higher number but excluding the former number (e.g., for
the default values, the function uses 0 to &lt;= 10, &gt;10 to &lt;= 20, &gt;20 to &lt;= 50, ..., all &gt;500).</p></dd>


<dt>setDivFactor</dt>
<dd><p>If set to 'filterwise', the function will request division factors for each filter during the processing.
If set to 'samplewise', the function will request division factors for each sample (all filters of one sample).
Sometimes the filters have to be divided because there are too many particles for one measurement. Then
only a part of the original sample is analysed, which has to be corrected during the blank correction.
It further might be, that the blank has a different division factor than the sample, since it might be good
to use the full blank particle numbers and/or if a filter breaks appart, the factor might change for a single
sample. Therefore each sample (and blank) need its own factor. Defaults to FALSE.</p></dd>


<dt>dataReturn</dt>
<dd><p>If set TRUE, a data frame will be returned containing the data of all measurement with
the necessary information.</p></dd>


<dt>eocsum</dt>
<dd><p>If TRUE (default) it adds a column sum at the end of each column of the summary panel.</p></dd>


<dt>particleNumbers</dt>
<dd><p>set TRUE if you would like to get an extra file with just plastic and non-plastic
particle numbers for each file loaded.</p></dd>


<dt>labpreset</dt>
<dd><p>A preset for most of the parameters (except: path, polymers, dataReturn, eocsum).
Can be requested by other labs, to be implemented, that they don't have to be set manually all the time.</p></dd>


<dt>blankKey</dt>
<dd><p>The key word to distinguish blanks from other measurements/samples. It is case sensitive to prevent
accidental matching. Defaults to "Blank".</p></dd>


<dt>noBlank</dt>
<dd><p>Can be set TRUE if you don't have a blank at all and just want to summarize your data (defaults to FALSE).</p></dd>


<dt>sep</dt>
<dd><p>Symbol in your csv files indicating new a column. Defaults to ';'.</p></dd>


<dt>dec</dt>
<dd><p>Symbol in your csv files indicating decimal sign. Defaults to ','.</p></dd>


<dt>colPol</dt>
<dd><p>Column number where the polymer type is stated. In the TOEKI lab this is column 6 (Class Name).
The polymer names (or abbreviations) can be set manually in 'polymers' in case the default does not apply.
Could also be provided as column name, but only in ASCII encoding (e.g., special character as . and ä = d).</p></dd>


<dt>colL</dt>
<dd><p>Column number for the particle length. In the TOEKI lab this is column 17 (Length 5µ).
Could also be provided as column name, but only in ASCII encoding (e.g., special character as . and ä = d).</p></dd>


<dt>colReqPol</dt>
<dd><p>Column number for the particle check, whether the particle is a polymer or not.
In the TOEKI lab this is column 24 (Plastik? or Plastik ja/nein). Could also be provided as column name, but only
in ASCII encoding (e.g., special character as . and ä = d).</p></dd>


<dt>ReqPolKey</dt>
<dd><p>key word or sentence of 'colReqPol' that indicates that it is a plastic particle. Default is 'ja'.</p></dd>


<dt>colShape</dt>
<dd><p>Column number for the particle shape. In the TOEKI lab this is column 25 (Form).
Could also be provided as column name, but only in ASCII encoding (e.g., special character as . and ä = d).</p></dd>


<dt>colCol</dt>
<dd><p>Column number for the particle color In the TOEKI lab this is column 26 (Farbe).
Could also be provided as column name, but only in ASCII encoding (e.g., special character as . and ä = d).</p></dd>


<dt>colLFib</dt>
<dd><p>Column number for the particle length in case of a fibre with corrected length (because of curvy shape)
In the TOEKI lab this is column 27 (Länge). Could also be provided as column name, but only in ASCII encoding (e.g., special character as . and ä = d).</p></dd>


<dt>colArea</dt>
<dd><p>Column number for the particle length in case of a fibre with corrected length (because of curvy shape)
In the TOEKI lab this is column 4 (Area µm²). Could also be provided as column name, but only in ASCII encoding (e.g., special character as . and ä = d).</p></dd>


<dt>colWidth</dt>
<dd><p>Column number for the particle length in case of a fibre with corrected length (because of curvy shape)
In the TOEKI lab this is column 18 (Width µm). Could also be provided as column name, but only in ASCII encoding (e.g., special character as . and ä = d).</p></dd>


<dt>fibre</dt>
<dd><p>How fibres are called in colShape (Form). In the TOEKI lab it is 'Faser'.</p></dd>


<dt>sphere</dt>
<dd><p>How spheres are called in colShape (Form). In the TOEKI lab it is 'Kugel'.</p></dd>


<dt>fragment</dt>
<dd><p>How fragments are called in colShape (Form). In the TOEKI lab it is 'Fragment'.</p></dd>


<dt>pixel</dt>
<dd><p>How pixels are called in colShape (Form). In the TOEKI lab it is 'Pixel'.</p></dd>


<dt>test</dt>
<dd><p>Can be set TRUE when the function should be run in testing mode.</p></dd>


<dt>startrow</dt>
<dd><p>Only required rarely. If you use a Purency version that saves the csv files slightly
differently, you might check at which line the data starts (including header). This number of line should
be set here (default 40).</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>If dataReturn = TRUE, the function returns a list object including all
processed data of each processing step and the summary values.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>https://www.purency.ai/microplastics-finder</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># For this example the path doesn't matter. </span></span></span>
<span class="r-in"><span><span class="co"># If you want to analyse your own data, set test = FALSE (or simply delete this parameter).</span></span></span>
<span class="r-in"><span><span class="va">mydata</span> <span class="op">&lt;-</span> <span class="fu">evalPurency</span><span class="op">(</span>path<span class="op">=</span><span class="st">"//HERE/COMES/YOUR/PATH/"</span>, dataReturn <span class="op">=</span> <span class="cn">TRUE</span>, test <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Done.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Change evaluated size classes (evaluate &lt;10, 10-100, 100-500 and &gt;500 µm).</span></span></span>
<span class="r-in"><span><span class="va">mydata</span> <span class="op">&lt;-</span> <span class="fu">evalPurency</span><span class="op">(</span>path<span class="op">=</span><span class="st">"//HERE/COMES/YOUR/PATH/"</span>, </span></span>
<span class="r-in"><span>                      sizeclasses <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span>,<span class="fl">100</span>,<span class="fl">500</span><span class="op">)</span>, dataReturn <span class="op">=</span> <span class="cn">TRUE</span>, test <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Done.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Include a division factor for the samples and blanks (in case filters have been divided).</span></span></span>
<span class="r-in"><span><span class="co"># Only works in interactive Session.</span></span></span>
<span class="r-in"><span><span class="va">mydata</span> <span class="op">&lt;-</span> <span class="fu">evalPurency</span><span class="op">(</span>path<span class="op">=</span><span class="st">"//HERE/COMES/YOUR/PATH/"</span>, </span></span>
<span class="r-in"><span>                     setDivFactor <span class="op">=</span> <span class="st">"samplewise"</span>, dataReturn <span class="op">=</span> <span class="cn">TRUE</span>, test <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Done.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Skip the summary row at bottom of each column in the sample summary.</span></span></span>
<span class="r-in"><span><span class="va">mydata</span> <span class="op">&lt;-</span> <span class="fu">evalPurency</span><span class="op">(</span>path<span class="op">=</span><span class="st">"//HERE/COMES/YOUR/PATH/"</span>, </span></span>
<span class="r-in"><span>                      eocsum <span class="op">=</span> <span class="cn">FALSE</span>, dataReturn <span class="op">=</span> <span class="cn">TRUE</span>, test <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Done.</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Marvin Kiene, Eva Cseperke Vizsolyi, Martin Löder, Christian Laforsch.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

